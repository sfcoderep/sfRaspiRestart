[Unit]
Description=Datawall Auto-Restart Service
After=graphical.target network-online.target
Wants=graphical.target network-online.target
# Extra delay to ensure desktop is fully loaded
StartLimitIntervalSec=0

[Service]
Type=simple
User=admin
Environment="DISPLAY=:0"
Environment="XAUTHORITY=/home/admin/.Xauthority"
ExecStartPre=/bin/sleep 10
ExecStart=/opt/datawall/datawall-restart.sh
Restart=always
RestartSec=10

[Install]
WantedBy=graphical.target